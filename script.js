const translations = {
    en: {
        'full-name': 'Dmitrii Sukharev',
        'job-title': 'Unity Developer',
        'languages-title': 'Languages',
        'russian': 'Russian:',
        'native': 'Native',
        'english': 'English:',
        'upper-intermediate': 'Upper-Intermediate',
        'location-title': 'Location',
        'location-text': 'Tbilisi, Georgia',
        'contact-title': 'Contact',
        'profile-title': 'Profile',
        'profile-text': 'Gaming enthusiast turned Unity developer with extensive experience across diverse genres. Deep understanding of what players enjoy and how games work, combined with passion for development. Constantly learning new technologies and perfecting the craft.',
        'skills-title': 'Skills',
        'learning-title': 'Currently Learning',
        'skill-sdk': 'SDK Integration',
        'skill-perf': 'Performance optimization',
        'skill-profiling': 'Profiling',
        'skill-platforms': 'Android/Web platforms',
        'experience-title': 'Work Experience',
        'job-unity-dev': 'Unity Developer',
        'period-unity': 'Dec 2023 - Dec 2025',
        'duration-unity': '2 years 1 month',
        'exp-unity-1': 'Optimized open-world racing game performance through atlases, profiling-driven code improvements, Jobs System, LODs, and occlusion culling, reducing game size from 95MB to 19MB via Addressables and load time from 19s to 5s while increasing active player count on lower-end devices.',
        'exp-unity-2': 'Integrated multiple SDKs and APIs including Firebase (Analytics, Remote Config, Crashlytics), payment systems (XSolla, Unity IAP), ad networks (IronSource, AppLovin), and custom REST APIs for cloud saves and authentication, improving game metrics across platforms.',
        'exp-unity-3': 'Developed procedural level generation systems for match-3 and mahjong games and created custom Unity Editor tools including no-code race configuration systems, enabling designers to iterate faster and increasing user retention.',
        'job-qa-lead': 'QA Team Lead',
        'period-qa-lead': 'Oct 2021 - Dec 2023',
        'duration-qa-lead': '2 years 3 months',
        'exp-qa-lead-1': 'Conducted interviews with new candidates, hired 5 new employees, trained them on internal infrastructure and onboarded them into the workflow.',
        'exp-qa-lead-2': 'Led QA processes: assigned tasks, updated documentation, and created checklists for each project, ensuring testing quality.',
        'job-qa-tester': 'QA Tester',
        'period-qa-tester': 'Jul 2020 - Oct 2021',
        'duration-qa-tester': '1 year 4 months',
        'exp-qa-tester-1': 'Tested games of different genres (casual, race, shooter) for Web, Android and iOS platforms.',
        'exp-qa-tester-2': 'Collaborated with development team to help understand, reproduce, and resolve found issues.',
        'projects-title': 'Personal Projects',
        'project-roguelike': 'Roguelike',
        'badge-roguelike': '2D | Google Play',
        'desc-roguelike': 'A mobile game built from a purchased asset that I customized and successfully published.',
        'project-language': 'Language Learning App',
        'badge-language': '2D | In Development (~70% Complete)',
        'desc-language': 'App based on my original concept. Built from scratch in close collaboration with a designer.'
    },
    ru: {
        'full-name': 'Дмитрий Сухарев',
        'job-title': 'Unity Разработчик',
        'languages-title': 'Языки',
        'russian': 'Русский:',
        'native': 'Родной',
        'english': 'Английский:',
        'upper-intermediate': 'Выше среднего',
        'location-title': 'Местоположение',
        'location-text': 'Тбилиси, Грузия',
        'contact-title': 'Контакты',
        'profile-title': 'Профиль',
        'profile-text': 'Энтузиаст игр, ставший Unity разработчиком с обширным опытом в различных жанрах. Глубокое понимание того, что нравится игрокам и как работают игры, в сочетании со страстью к разработке. Постоянно изучаю новые технологии и совершенствую мастерство.',
        'skills-title': 'Навыки',
        'learning-title': 'Сейчас изучаю',
        'skill-sdk': 'Интеграция SDK',
        'skill-perf': 'Оптимизация производительности',
        'skill-profiling': 'Профилирование',
        'skill-platforms': 'Android/Web платформы',
        'experience-title': 'Опыт работы',
        'job-unity-dev': 'Unity Разработчик',
        'period-unity': 'Дек 2023 - Дек 2025',
        'duration-unity': '2 года 1 месяц',
        'exp-unity-1': 'Оптимизировал производительность гоночной игры с открытым миром через атласы, рефакторинг кода на основе профилирования, Jobs System, LODs и occlusion culling, уменьшив размер игры с 95MB до 19MB через Addressables и время загрузки с 19s до 5s, увеличив количество активных игроков на слабых устройствах.',
        'exp-unity-2': 'Интегрировал множество SDK и API включая Firebase (Analytics, Remote Config, Crashlytics), платёжные системы (XSolla, Unity IAP), рекламные сети (IronSource, AppLovin) и кастомные REST API для облачных сохранений и аутентификации, улучшив метрики игры на всех платформах.',
        'exp-unity-3': 'Разрабатывал системы процедурной генерации уровней для match-3 и маджонг игр. Создавал кастомные инструменты Unity Editor, включая системы настройки гонок без кода, позволяя дизайнерам быстрее итерироваться и увеличивая удержание пользователей.',
        'job-qa-lead': 'Руководитель QA отдела',
        'period-qa-lead': 'Окт 2021 - Дек 2023',
        'duration-qa-lead': '2 года 3 месяца',
        'exp-qa-lead-1': 'Проводил собеседования с новыми кандидатами, нанял 5 новых сотрудников, обучал их внутренней инфраструктуре и вводил в рабочий процесс.',
        'exp-qa-lead-2': 'Управлял процессами QA: распределял задачи, обновлял документацию и создавал чек-листы для каждого проекта, обеспечивая качество тестирования.',
        'job-qa-tester': 'QA Тестировщик',
        'period-qa-tester': 'Июль 2020 - Окт 2021',
        'duration-qa-tester': '1 год 4 месяца',
        'exp-qa-tester-1': 'Тестировал игры разных жанров (казуальные, гонки, шутеры) для Web, Android и iOS платформ.',
        'exp-qa-tester-2': 'Сотрудничал с командой разработки для понимания, воспроизведения и решения найденных проблем.',
        'projects-title': 'Личные проекты',
        'project-roguelike': 'Рогалик',
        'badge-roguelike': '2D | Google Play',
        'desc-roguelike': 'Мобильная игра, построенная на основе купленного ассета, который я кастомизировал и успешно опубликовал.',
        'project-language': 'Приложение для изучения языков',
        'badge-language': '2D | В разработке (~70% готово)',
        'desc-language': 'Основанное на моей оригинальной концепции. Создано с нуля в тесном сотрудничестве с дизайнером.'
    }
};

let currentLanguage = 'en';

function detectBrowserLanguage() {
    const browserLang = navigator.language || navigator.userLanguage;
    if (browserLang.startsWith('ru')) {
        return 'ru';
    }
    return 'en';
}

function setLanguage(lang) {
    currentLanguage = lang;

    const elements = document.querySelectorAll('[data-lang]');
    elements.forEach(element => {
        const key = element.getAttribute('data-lang');
        if (translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });

    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    document.querySelector(`[onclick="setLanguage('${lang}')"]`).classList.add('active');

    document.documentElement.lang = lang;
}

window.addEventListener('DOMContentLoaded', () => {
    const defaultLang = detectBrowserLanguage();
    setLanguage(defaultLang);
});